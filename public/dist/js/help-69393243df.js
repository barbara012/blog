var PopTip={targetElement:"",flag:0,setTitle:function(e){return $("<div></div>").addClass("title").text(e)},setContent:function(e){return $('<div class="pop-content"></div>').append(e)},setButton:function(e){return $('<div class="pop-footer clearfix"></div>').append(e)},createContainer:function(){return $("<div></div>").addClass("popover").addClass("pop-tip")},closePop:function(){$(".popover").stop().animate({opacity:0,top:"-4px"},100,function(){$(this).detach()})},showPop:function(e,t,n,i,o,r){this.type=t?t:"click",this.content=n?n:"",this.title=i?i:"",this.button=o?o:"",this.theme=r?r:"default";var s=this;e.on(s.type,function(){if(1===s.flag)return s.closePop(),s.flag=0,!1;var t=s.createContainer(),n=s.setTitle(s.title),i=s.setContent(s.content),o=s.setButton(s.button),a=$('<span class="pop-arrow"></span>'),p=$(this).offset();parseInt(p.left),parseInt(p.top),parseInt($(this).outerHeight(!0)),parseInt($(this).outerWidth(!0)),parseInt($(document).width());return t.append(a).append(n).append(i).append(o).addClass(r).appendTo(e),s.flag=1,!1}),$(document).click(function(e){1===s.flag&&(s.closePop(),s.flag=0)})}},WeiXinShareLink={imgUrl:"",lineLink:location.href,descContent:"哗（HwH）美文",shareTitle:"葫芦娃",appid:"",init:function(){function e(){WeixinJSBridge.invoke("sendAppMessage",{appid:i.appid,img_url:i.imgUrl,img_width:"320",img_height:"320",link:i.lineLink,desc:i.descContent,title:i.shareTitle},function(e){_report("send_msg",e.err_msg)})}function t(){WeixinJSBridge.invoke("shareTimeline",{img_url:i.imgUrl,img_width:"320",img_height:"320",link:i.lineLink,desc:i.descContent,title:i.shareTitle},function(e){_report("timeline",e.err_msg)})}function n(){WeixinJSBridge.invoke("shareWeibo",{content:i.descContent,url:i.lineLink},function(e){_report("weibo",e.err_msg)})}var i=this;document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:appmessage",function(t){e()}),WeixinJSBridge.on("menu:share:timeline",function(e){t()}),WeixinJSBridge.on("menu:share:weibo",function(e){n()})},!1)},enable:function(){this.init()}};